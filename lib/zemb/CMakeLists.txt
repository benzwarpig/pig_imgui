# this file is generated by zbuild_create_pkg , see more in environ/README.md

# cmake_minimum_required(VERSION <min>[...<max>] [FATAL_ERROR])
cmake_minimum_required(VERSION 3.12)

# project(<PROJECT-NAME> [<language-name>...]), generated two variable PROJECT_SOURCE_DIR,PROJECT_BINARY_DIR
project(zemb)

# add_compile_options(<option> ...)
add_compile_options(-DOS_UNIX)
link_libraries("-lpthread -lm -ldl -lrt")

include_directories(./inc)

# include_directories([AFTER|BEFORE] [SYSTEM] dir1 [dir2 ...])
# include_directories()

# add_library(<name> [STATIC | SHARED | MODULE] [EXCLUDE_FROM_ALL] [source1] [source2 ...])
add_library(${PROJECT_NAME} SHARED
  src/ArgUtil.cpp
  src/BaseType.cpp
  src/CheckUtil.cpp
  src/CodecUtil.cpp
  src/ComUtil.cpp
  src/Coroutine.cpp
  src/CppUnitLite.cpp
  src/DataBuffer.cpp
  src/DateTime.cpp
  src/FileUtil.cpp
  src/FSMachine.cpp
  src/IODevice.cpp
  src/Logger.cpp
  src/MemUtil.cpp
  src/MsgQueue.cpp
  src/NetUtil.cpp
  src/PinCtrl.cpp
  src/Poller.cpp
  src/Pluglet.cpp
  src/RegExp.cpp
  src/SerialPort.cpp
  src/Socket.cpp
  src/SpiDev.cpp
  src/StrUtil.cpp
  src/SysUtil.cpp
  src/Thread.cpp
  src/ThreadUtil.cpp
  src/Timer.cpp
  src/Tracer.cpp
)

add_library(lib::zemb ALIAS ${PROJECT_NAME})

# target_link_libraries(<target> ... <item>... ...)
target_link_libraries(${PROJECT_NAME}
  uuid
  -lpthread
)

target_include_directories(${PROJECT_NAME}
  PUBLIC
  ${CMAKE_CURRENT_SOURCE_DIR}
)
